<!DOCTYPE html>
<html lang="en">



<head>
    <meta charset="UTF-8">
    <title>弹出函数</title>


    <!-- 引入外部js钉钉官方接口 -->
    <script src="https://g.alicdn.com/dingding/dingtalk-jsapi/2.10.3/dingtalk.open.js"></script>
    <!-- 引入刚刚写的js文件 -->
    <script type="text/javascript" src="../static/js/dd.js"></script>

</head>

<body>
    <button id="code" onclick="dd.ready()">获取授权码</button>

    <script>
        import * as dd from 'dingtalk-jsapi';

        dd.ready(function () {
            dd.runtime.permission.requestAuthCode({
                corpId: "dingc1a9431fa1500399acaaa37764f94726",
                onSuccess: function (result) {
                    var code = result.code;
                    alert('获取成功，你的免登code为：' + code);　　　　　　　　　　　　//将code 发往后台处理
                },
                onFail: function (err) {
                    alert('出错了, 你获取了一个自定义错误' + err);
                }
            });

        });
    </script>
</body>

</html>